@use "sass:map";
@use "sass:color";
@use "@catppuccin/palette/scss/catppuccin";

// -----------------------------------------------
// theme: catppuccin
// -----------------------------------------------

$accent_names: (
  "rosewater",
  "flamingo",
  "pink",
  "mauve",
  "red",
  "maroon",
  "peach",
  "yellow",
  "green",
  "teal",
  "sky",
  "sapphire",
  "blue",
  "lavender",
);

// Monochromatic
$monochromatic_names: (
  // "text",
  "subtext1",
  "subtext0",
  "overlay2",
  "overlay1",
  "overlay0",
  "surface2",
  "surface1",
  "surface0",
  "base",
  "mantle",
  "crust"
);

@mixin generate_palette($palette) {
  $text: map.get($palette, "text");

  // shades
  --color-text: #{$text};

  @each $monochromatic_name in $monochromatic_names {
    $shade: map.get($palette, $monochromatic_name);
    --color-#{$monochromatic_name}: #{$shade};
  }

  // colors
  @each $accent_name in $accent_names {
    $color: map.get($palette, $accent_name);
    --color-#{$accent_name}: #{$color};
    --color-#{$accent_name}-text: #{color.mix($text, $color, 60%)};

    @each $monochromatic_name in $monochromatic_names {
      $shade: map.get($palette, $monochromatic_name);
      --color-#{$accent_name}-#{$monochromatic_name}: #{color.mix($shade, $color, 85%)};
    }
  }
}

.ui-light {
  $palette: map.get(catppuccin.$palette, "latte");
  @include generate_palette($palette);

  // bright
  @each $accent_name in $accent_names {
    $color: map.get($palette, $accent_name);
    --color-#{$accent_name}-bright: #{color.to-space(color.adjust(color.to-space($color, lch), $hue: 2, $lightness: 10%), rgb)};
  }
}

.ui-dark {
  $palette: map.get(catppuccin.$palette, "mocha");
  @include generate_palette($palette);

  // bright
  @each $accent_name in $accent_names {
    $color: map.get($palette, $accent_name);
    --color-#{$accent_name}-bright: #{color.to-space(color.adjust(color.to-space($color, lch), $hue: 2, $chroma: 8, $lightness: -10%), rgb)};
  }
}

// -----------------------------------------------
// base
// -----------------------------------------------

:root,
html,
body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
}

:root {
  @extend .ui-dark;
  background-color: var(--color-base);
  color: var(--color-text);
}
