@use "sass:map";
@use "sass:color";
@use "@catppuccin/palette/scss/catppuccin";

// -----------------------------------------------
// theme: catppuccin
// -----------------------------------------------

$color_names: (
  "rosewater",
  "flamingo",
  "pink",
  "mauve",
  "red",
  "maroon",
  "peach",
  "yellow",
  "green",
  "teal",
  "sky",
  "sapphire",
  "blue",
  "lavender",
);

$shade_names: (
  "text",
  "subtext1",
  "subtext0",
  "overlay2",
  "overlay1",
  "overlay0",
  "surface2",
  "surface1",
  "surface0",
  "base",
  "mantle",
  "crust"
);

@mixin generate_palette($palette) {
  $base: map.get($palette, "base");
  $text: map.get($palette, "text");

  // shades
  @each $name in $shade_names {
    $color: map.get($palette, $name);

    --color-#{$name}: #{$color};
  }
  
  // colors
  @each $color_name in $color_names {
    $color: map.get($palette, $color_name);
    --color-#{$color_name}: #{$color};

    // mixed
    @each $shade_name in $shade_names {
      $base: map.get($palette, $shade_name);
      --color-#{$color_name}-#{$shade_name}: #{color.mix($base, $color, 80%)};
    }
  }
}

.ui-light {
  $palette: map.get(catppuccin.$palette, "latte");
  @include generate_palette($palette);

  // bright
  @each $name in $color_names {
    $color: map.get($palette, $name);
    --color-#{$name}-bright: #{color.to-space(color.adjust(color.to-space($color, lch), $hue: 2, $lightness: 9%), rgb)};
  }
}

.ui-dark {
  $palette: map.get(catppuccin.$palette, "mocha");
  @include generate_palette($palette);

  // bright
  @each $name in $color_names {
    $color: map.get($palette, $name);
    --color-#{$name}-bright: #{color.to-space(color.adjust(color.to-space($color, lch), $hue: 2, $chroma: 8, $lightness: -6%), rgb)};
  }
}

// -----------------------------------------------
// base
// -----------------------------------------------

:root,
html,
body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
}

:root {
  // default theme
  @extend .ui-dark
}

body {
  background-color: var(--color-base);
  color: var(--color-text);
}
